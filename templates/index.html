<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<title>Giải bài toán Quy hoạch tuyến tính</title>
<style>
  body { font-family: Arial; margin: 30px; max-width: 600px; }
  label { font-weight: bold; display: block; margin-top: 15px; }
  input, textarea, select, button { width: 100%; margin-top: 5px; padding: 8px; }
  .button-group { display: flex; gap: 10px; margin-top: 15px; }
</style>
</head>
<body>

<h2>Giải bài toán Quy hoạch tuyến tính</h2>

<form method="post" action="/">
  <label>Loại bài toán (max/min):</label>
  <select name="problem_type" required>
    <option value="max" {% if problem_type == 'max' %}selected{% endif %}>Max</option>
    <option value="min" {% if problem_type == 'min' %}selected{% endif %}>Min</option>
  </select>

  <label>Hệ số hàm mục tiêu (cách nhau bằng dấu cách):</label>
  <input type="text" name="objective_coeffs" placeholder="Ví dụ: 1 2 3" required value="{{ objective_coeffs }}"/>

  <label>Ràng buộc (mỗi dòng một ràng buộc, ví dụ: 1 1 >= 3):</label>
  <textarea name="constraints" rows="4" placeholder="1 1 >= 3\n2 1 <= 5" required>{{ constraints }}</textarea>

  <label>Dấu của các biến (mỗi dòng, ví dụ: x1 >= 0):</label>
  <textarea name="variable_bounds" rows="3" placeholder="x1 >= 0\nx2 >= 0">{{ variable_bounds }}</textarea>

  <div class="button-group">
    <button type="submit" name="action" value="get_methods">Lấy dữ liệu và xem phương pháp</button>
    
    {% if methods %}
    <select name="method" required>
      {% for m in methods %}
      <option value="{{m}}">{{m}}</option>
      {% endfor %}
    </select>
    <button type="submit" name="action" value="solve">Giải bài toán</button>
    {% endif %}
  </div>
</form>

{% if message %}
<p><strong>{{ message }}</strong></p>
{% endif %}

{% if result %}
<hr>
<h3>Kết quả:</h3>
<pre>{{ result }}</pre>
{% endif %}

</body>
</html>
